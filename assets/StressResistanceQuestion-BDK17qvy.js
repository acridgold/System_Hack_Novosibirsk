import{r as s,j as t,P as w,B as o,T as f}from"./index-H7cXeJn2.js";const D=({currentAnswer:d,onAnswer:m})=>{const[p,b]=s.useState(d!==void 0?d:0),[n,x]=s.useState(!1),c=s.useRef(null),v="/System_Hack_Novosibirsk/questionsAssets/StressResistanceQuestion/woman.png",j="/System_Hack_Novosibirsk/questionsAssets/StressResistanceQuestion/stress.png",y=(e=>100+-100*e)(p),h=s.useCallback(e=>{x(!0),i(e),e.preventDefault()},[]),i=s.useCallback(e=>{if(!c.current)return;const l=c.current.getBoundingClientRect(),u=e.clientY||e.touches&&e.touches[0].clientY;if(!u)return;const k=u-l.top,g=Math.max(0,Math.min(1,1-k/l.height));b(g),m(g)},[m]),r=s.useCallback(e=>{n&&i(e)},[n,i]),a=s.useCallback(()=>{x(!1)},[]),E=s.useCallback(e=>{i(e)},[i]);return s.useEffect(()=>(n&&(document.addEventListener("mousemove",r),document.addEventListener("mouseup",a),document.addEventListener("touchmove",r),document.addEventListener("touchend",a)),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",a)}),[n,r,a]),t.jsx(w,{elevation:3,sx:{p:4,border:"2px solid #E0EFE5",background:"#FFFFFF",position:"relative",overflow:"visible",minHeight:"700px",display:"flex",flexDirection:"column",justifyContent:"center"},children:t.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"80px"},children:[t.jsxs(o,{ref:c,sx:{position:"relative",width:"400px",height:"400px",cursor:"pointer",overflow:"visible",borderRadius:2,display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"40px"},onClick:E,children:[t.jsx(o,{sx:{position:"absolute",top:"60%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"visible"},children:t.jsx("img",{src:v,alt:"Фон",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"},onError:e=>{e.target.style.display="none"}})}),t.jsx(o,{sx:{position:"absolute",top:y,left:"30%",transform:"translate(-50%, -50%)",width:"80px",height:"80px",cursor:n?"grabbing":"grab",zIndex:10,transition:n?"none":"top 0.3s ease",overflow:"visible"},onMouseDown:h,onTouchStart:h,children:t.jsx("img",{src:j,alt:"Объект",style:{width:"250px",height:"auto",objectFit:"contain",display:"block"},onError:e=>{e.target.style.display="none"}})})]}),t.jsxs(o,{sx:{width:"600px",mt:4,marginBottom:"40px"},children:[t.jsxs(o,{display:"flex",justifyContent:"space-between",mb:1,children:[t.jsx(f,{variant:"caption",color:"#000000ff",fontWeight:"bold",fontSize:"1.1rem",children:"Высокая тревога"}),t.jsx(f,{variant:"caption",color:"#000000ff",fontWeight:"bold",fontSize:"1.1rem",children:"Устойчивость"})]}),t.jsx(o,{sx:{width:"100%",height:"8px",backgroundColor:"#E0E0E0",border:"1px solid #BDBDBD",borderRadius:"4px",overflow:"hidden"},children:t.jsx(o,{sx:{width:`${p*100}%`,height:"100%",background:"#4CAF50",borderRadius:"4px",transition:"width 0.3s ease"}})})]})]})})};export{D as default};
