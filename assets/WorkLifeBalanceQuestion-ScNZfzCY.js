import{r as s,j as e,P as k,B as o,T as f}from"./index-CIxEWNSq.js";const S=({question:B,currentAnswer:g,onAnswer:m})=>{const[n,E]=s.useState(g!==void 0?g:.5),[i,b]=s.useState(!1),[d,v]=s.useState(null),w=s.useRef(0),p=s.useRef(.5),h=(t=>(t-.5)*-30)(n),u=s.useCallback((t,c)=>{b(!0),v(t),w.current=c.clientY||c.touches&&c.touches[0].clientY,p.current=n,c.preventDefault()},[n]),a=s.useCallback(t=>{if(!i)return;const j=((t.clientY||t.touches&&t.touches[0].clientY)-w.current)/100*.5;let r;d==="work"?r=p.current+j:r=p.current-j,r=Math.max(0,Math.min(1,r)),E(r),m(r)},[i,d,m]),l=s.useCallback(()=>{b(!1),v(null)},[]);s.useEffect(()=>(i&&(document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),document.addEventListener("touchmove",a),document.addEventListener("touchend",l)),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",l)}),[i,a,l]);const x=(t=>t<.5?{left:0,right:(.5-t)/.5*100}:t>.5?{left:(t-.5)/.5*100,right:0}:{left:0,right:0})(n);return e.jsxs(k,{elevation:3,sx:{p:4,border:"2px solid #E0EFE5",position:"relative",overflow:"hidden",minHeight:"500px",display:"flex",flexDirection:"column"},children:[e.jsx(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,mb:1},children:e.jsxs(o,{sx:{position:"relative",width:"400px",height:"300px"},children:[e.jsx(o,{component:"img",src:"questionsAssets/WorkLifeBalanceQuestion/scalesBase.png",alt:"Основание весов",sx:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"280px",zIndex:1}}),e.jsxs(o,{sx:{position:"absolute",top:"60px",left:"50%",transform:`translateX(-50%) rotate(${h}deg)`,transformOrigin:"center 35px",transition:"transform 0.1s ease",zIndex:2},children:[e.jsx(o,{component:"img",src:"questionsAssets/WorkLifeBalanceQuestion/scalesRotate.png",alt:"Коромысло весов",sx:{width:"280px"}}),e.jsx(o,{component:"img",src:"questionsAssets/WorkLifeBalanceQuestion/leftBowl.png",alt:"Работа",onMouseDown:t=>u("work",t),onTouchStart:t=>u("work",t),sx:{position:"absolute",top:"55px",left:"-20px",width:"100px",transform:`rotate(${-h}deg)`,cursor:i&&d==="work"?"grabbing":"grab",filter:n>.5?"drop-shadow(0 0 5px #4CAF50)":"none","&:hover":i?{}:{filter:"drop-shadow(0 0 8px rgba(0,0,0,0.3))"}}}),e.jsx(o,{component:"img",src:"questionsAssets/WorkLifeBalanceQuestion/rightBowl.png",alt:"Жизнь",onMouseDown:t=>u("life",t),onTouchStart:t=>u("life",t),sx:{position:"absolute",top:"55px",right:"-20px",width:"100px",transform:`rotate(${-h}deg)`,cursor:i&&d==="life"?"grabbing":"grab",filter:n<.5?"drop-shadow(0 0 5px #4CAF50)":"none","&:hover":i?{}:{filter:"drop-shadow(0 0 8px rgba(0,0,0,0.3))"}}})]})]})}),e.jsx(o,{sx:{mt:2,px:2},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2,mt:1,position:"relative"},children:[e.jsxs(o,{sx:{flexGrow:1,position:"relative"},children:[e.jsx(o,{sx:{height:12,borderRadius:"8px 0 0 8px",backgroundColor:"#E0E0E0",position:"relative",overflow:"hidden"},children:e.jsx(o,{sx:{position:"absolute",right:0,top:0,height:"100%",width:`${x.left}%`,backgroundColor:"#4CAF50",transition:"width 0.1s ease",borderRadius:x.left===100?"8px 0 0 8px":"0"}})}),e.jsx(f,{variant:"caption",color:"#000000",fontWeight:"bold",fontSize:"1.1rem",sx:{position:"absolute",top:"100%",left:0,mt:.5},children:"Работа"})]}),e.jsxs(o,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"60px"},children:[e.jsx(o,{sx:{width:3,height:20,backgroundColor:"#E0E0E0",borderRadius:2,mb:.5}}),e.jsx(f,{variant:"caption",fontWeight:"bold",color:"text.secondary",children:"Баланс"})]}),e.jsxs(o,{sx:{flexGrow:1,position:"relative"},children:[e.jsx(o,{sx:{height:12,borderRadius:"0 8px 8px 0",backgroundColor:"#E0E0E0",position:"relative",overflow:"hidden"},children:e.jsx(o,{sx:{position:"absolute",left:0,top:0,height:"100%",width:`${x.right}%`,backgroundColor:"#4CAF50",transition:"width 0.1s ease",borderRadius:x.right===100?"0 8px 8px 0":"0"}})}),e.jsx(f,{variant:"caption",color:"#000000",fontWeight:"bold",fontSize:"1.1rem",sx:{position:"absolute",top:"100%",right:0,mt:.5},children:"Жизнь"})]})]})})]})};export{S as default};
